<!DOCTYPE html>
<html>
<head>
  <title>Saving and Restoring the context state.</title>
  <meta charset="UTF-8"> 
</head>
<body>
<!-- ******************************************* -->

<canvas id="canvas1" width=600 height=300 style="border:1px solid red;">
</canvas>

<script>
var context = document.getElementById("canvas1").getContext("2d");

context.fillRect(0, 0, 150, 150);   // Draw a rectangle with default settings
context.save();                  // Save the default state, which is a black fill
 
context.fillStyle = '#09F';      // Blue color, make changes to the settings
context.fillRect(15, 15, 120, 120); // Draw a rectangle with new settings

context.save();                  // Save the current state
context.fillStyle = '#FFF';      // Lighter blue color, make changes to the settings
context.globalAlpha = 0.5;       // Alpha for anything drawn
context.fillRect(30, 30, 90, 90);   // Draw a rectangle with new settings

context.restore();               // Restore previous state which was a blue color
context.fillRect(45, 45, 60, 60);   // Draw a rectangle with restored settings

context.restore();               // Restore original state, which was black
context.fillRect(60, 60, 30, 30);   // Draw a rectangle with restored settings
</script>

<!-- ******************************************* -->
</body>
</html>


